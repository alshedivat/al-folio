---
layout: default
---
{% comment %}
Unified CV layout that handles both RenderCV (YAML) and JSONResume (JSON) formats
- If page.cv_format is set, it determines which format to render:
  - 'rendercv': Load and render only RenderCV data (site.data.cv.cv)
  - 'jsonresume': Load and render only JSONResume data (site.data.resume)
- If page.cv_format is not set, the legacy behavior applies:
  - RenderCV data is in site.data.cv.cv
  - JSONResume data is in site.data.resume
  - RenderCV is prioritized if both exist
Both formats now use the same unified rendering includes for consistent output
{% endcomment %}

<div class="post">
  <header class="post-header">
    <h1 class="post-title">
      {{ page.title }}
      {% if page.cv_pdf %}
        <a
          {% if page.cv_pdf contains '://' %}
            href="{{ page.cv_pdf }}"
          {% else %}
            href="{{ page.cv_pdf | relative_url }}"
          {% endif %}
          target="_blank"
          rel="noopener noreferrer"
          class="float-right"
        >
          <i class="fa-solid fa-file-pdf"></i>
        </a>
      {% endif %}
    </h1>
    {% if page.description %}
      <p class="post-description">{{ page.description }}</p>
    {% endif %}
  </header>

  <article>
    <div class="cv">
      {% comment %} Determine which CV format to render {% endcomment %}
      {% assign render_rendercv = false %}
      {% assign render_jsonresume = false %}
      
      {% if page.cv_format == 'rendercv' %}
        {% assign render_rendercv = true %}
      {% elsif page.cv_format == 'jsonresume' %}
        {% assign render_jsonresume = true %}
      {% else %}
        {% comment %} Legacy behavior: RenderCV takes priority if both exist {% endcomment %}
        {% if site.data.cv and site.data.cv.cv %}
          {% assign render_rendercv = true %}
        {% elsif site.data.resume %}
          {% assign render_jsonresume = true %}
        {% endif %}
      {% endif %}

      {% if render_rendercv and site.data.cv and site.data.cv.cv %}
        {% comment %} RenderCV format {% endcomment %}
        {% assign cv = site.data.cv.cv %}

        <!-- Header/Contact Information -->
        {% if cv.name or cv.label or cv.location or cv.email or cv.phone or cv.website %}
          <div class="card mt-3 p-3">
            <h3 class="card-title font-weight-medium">Contact Information</h3>
            <table class="table table-cv table-sm table-borderless">
              {% if cv.name %}
                <tr>
                  <td class="p-1 pr-2 font-weight-bold"><b>Name</b></td>
                  <td class="p-1 pl-2 font-weight-light">{{ cv.name }}</td>
                </tr>
              {% endif %}
              {% if cv.label %}
                <tr>
                  <td class="p-1 pr-2 font-weight-bold"><b>Professional Title</b></td>
                  <td class="p-1 pl-2 font-weight-light">{{ cv.label }}</td>
                </tr>
              {% endif %}
              {% if cv.email %}
                <tr>
                  <td class="p-1 pr-2 font-weight-bold"><b>Email</b></td>
                  <td class="p-1 pl-2 font-weight-light">{{ cv.email }}</td>
                </tr>
              {% endif %}
              {% if cv.phone %}
                <tr>
                  <td class="p-1 pr-2 font-weight-bold"><b>Phone</b></td>
                  <td class="p-1 pl-2 font-weight-light">{{ cv.phone }}</td>
                </tr>
              {% endif %}
              {% if cv.location %}
                <tr>
                  <td class="p-1 pr-2 font-weight-bold"><b>Location</b></td>
                  <td class="p-1 pl-2 font-weight-light">{{ cv.location }}</td>
                </tr>
              {% endif %}
              {% if cv.website %}
                <tr>
                  <td class="p-1 pr-2 font-weight-bold"><b>Website</b></td>
                  <td class="p-1 pl-2 font-weight-light"><a href="{{ cv.website }}" target="_blank">{{ cv.website }}</a></td>
                </tr>
              {% endif %}
            </table>
          </div>
        {% endif %}

        <!-- Summary -->
        {% if cv.summary %}
          <div class="card mt-3 p-3">
            <h3 class="card-title font-weight-medium">Professional Summary</h3>
            <p>{{ cv.summary | markdownify | remove: '<p>' | remove: '</p>' }}</p>
          </div>
        {% endif %}

        <!-- RenderCV Sections - Merge Experience and Volunteer -->
        {% comment %} First, combine Experience and Volunteer entries {% endcomment %}
        {% assign combined_experience = cv.sections.Experience | concat: cv.sections.Volunteer %}
        {% if combined_experience.size > 0 %}
          <a class="anchor" id="experience"></a>
          <div class="card mt-3 p-3">
            <h3 class="card-title font-weight-medium">Experience</h3>
            <div>
              {% assign entries = combined_experience %}
              {% include cv/experience.liquid %}
            </div>
          </div>
        {% endif %}

        {% comment %} Now render all other sections except Experience and Volunteer {% endcomment %}
        {% for section_pair in cv.sections %}
          {% assign section_title = section_pair[0] %}
          {% assign section_entries = section_pair[1] %}
          
          {% comment %} Skip Experience and Volunteer as we've already processed them combined {% endcomment %}
          {% if section_title == 'Experience' or section_title == 'Volunteer' %}
            {% continue %}
          {% endif %}
          
          <a class="anchor" id="{{ section_title | slugify }}"></a>
          <div class="card mt-3 p-3">
            <h3 class="card-title font-weight-medium">{{ section_title }}</h3>
            <div>
              {% if section_title == 'Education' %}
                {% assign entries = section_entries %}
                {% include cv/education.liquid %}
              {% elsif section_title == 'Awards' or section_title == 'Honors and Awards' %}
                {% assign entries = section_entries %}
                {% include cv/awards.liquid %}
              {% elsif section_title == 'Publications' %}
                {% assign entries = section_entries %}
                {% include cv/publications.liquid %}
              {% elsif section_title == 'Skills' %}
                {% assign entries = section_entries %}
                {% include cv/skills.liquid %}
              {% elsif section_title == 'Languages' %}
                {% assign entries = section_entries %}
                {% include cv/languages.liquid %}
              {% elsif section_title == 'Interests' or section_title == 'Academic Interests' %}
                {% assign entries = section_entries %}
                {% include cv/interests.liquid %}
              {% elsif section_title == 'Certificates' %}
                {% assign entries = section_entries %}
                {% include cv/certificates.liquid %}
              {% elsif section_title == 'Projects' or section_title == 'Open Source Projects' %}
                {% assign entries = section_entries %}
                {% include cv/projects.liquid %}
              {% elsif section_title == 'References' %}
                {% assign entries = section_entries %}
                {% include cv/references.liquid %}
              {% else %}
                <!-- Generic section -->
                {% for entry in section_entries %}
                  {% if entry.bullet %}
                    <ul class="card-text font-weight-light list-group list-group-flush">
                      <li class="list-group-item">{{ entry.bullet | markdownify | remove: '<p>' | remove: '</p>' }}</li>
                    </ul>
                  {% elsif entry.label %}
                    <div class="card-text font-weight-light">
                      <strong>{{ entry.label }}:</strong> {{ entry.details }}
                    </div>
                  {% endif %}
                {% endfor %}
              {% endif %}
            </div>
          </div>
        {% endfor %}

      {% elsif render_jsonresume and site.data.resume %}
        {% comment %} JSONResume format {% endcomment %}

        <!-- Basics/Contact Information -->
        {% if site.data.resume.basics %}
          <div class="card mt-3 p-3">
            <h3 class="card-title font-weight-medium">Contact Information</h3>
            {% assign basics = site.data.resume.basics %}
            <table class="table table-cv table-sm table-borderless">
              {% if basics.name %}
                <tr>
                  <td class="p-1 pr-2 font-weight-bold"><b>Name</b></td>
                  <td class="p-1 pl-2 font-weight-light">{{ basics.name }}</td>
                </tr>
              {% endif %}
              {% if basics.label %}
                <tr>
                  <td class="p-1 pr-2 font-weight-bold"><b>Professional Title</b></td>
                  <td class="p-1 pl-2 font-weight-light">{{ basics.label }}</td>
                </tr>
              {% endif %}
              {% if basics.email %}
                <tr>
                  <td class="p-1 pr-2 font-weight-bold"><b>Email</b></td>
                  <td class="p-1 pl-2 font-weight-light">{{ basics.email }}</td>
                </tr>
              {% endif %}
              {% if basics.phone %}
                <tr>
                  <td class="p-1 pr-2 font-weight-bold"><b>Phone</b></td>
                  <td class="p-1 pl-2 font-weight-light">{{ basics.phone }}</td>
                </tr>
              {% endif %}
              {% if basics.location %}
                <tr>
                  <td class="p-1 pr-2 font-weight-bold"><b>Location</b></td>
                  <td class="p-1 pl-2 font-weight-light">
                    {% if basics.location.address %}{{ basics.location.address }}, {% endif %}
                    {% if basics.location.city %}{{ basics.location.city }}, {% endif %}
                    {% if basics.location.region %}{{ basics.location.region }} {% endif %}
                    {% if basics.location.postalCode %}{{ basics.location.postalCode }}{% endif %}
                  </td>
                </tr>
              {% endif %}
              {% if basics.url %}
                <tr>
                  <td class="p-1 pr-2 font-weight-bold"><b>Website</b></td>
                  <td class="p-1 pl-2 font-weight-light"><a href="{{ basics.url }}" target="_blank">{{ basics.url }}</a></td>
                </tr>
              {% endif %}
            </table>
          </div>
        {% endif %}

        <!-- Summary -->
        {% if site.data.resume.basics.summary %}
          <div class="card mt-3 p-3">
            <h3 class="card-title font-weight-medium">Professional Summary</h3>
            <p>{{ site.data.resume.basics.summary | markdownify | remove: '<p>' | remove: '</p>' }}</p>
          </div>
        {% endif %}

        <!-- JSONResume Sections - Merge work and volunteer into Experience -->
        {% assign combined_experience = site.data.resume.work | concat: site.data.resume.volunteer %}
        {% if combined_experience.size > 0 %}
          <a class="anchor" id="experience"></a>
          <div class="card mt-3 p-3">
            <h3 class="card-title font-weight-medium">Experience</h3>
            <div>
              {% assign entries = combined_experience %}
              {% include cv/experience.liquid %}
            </div>
          </div>
        {% endif %}

        <!-- Other JSONResume Sections -->
        {% for data in site.data.resume %}
          {% if site.jsonresume and site.jsonresume.size > 0 %}
            {% unless site.jsonresume contains data[0] %}
              {% continue %}
            {% endunless %}
          {% endif %}
          {% comment %} Skip basics, meta, and sections we've already processed (work, volunteer) {% endcomment %}
          {% if data[0] == 'basics' or data[0] == 'meta' or data[0] == 'work' or data[0] == 'volunteer' or data[1].size == 0 %}
            {% continue %}
          {% endif %}

          <a class="anchor" id="{{ data[0] }}"></a>
          <div class="card mt-3 p-3">
            <h3 class="card-title font-weight-medium">{{ data[0] | capitalize }}</h3>
            <div>
              {% case data[0] %}
                {% when 'education' %}
                  {% assign entries = data[1] %}
                  {% include cv/education.liquid %}
                {% when 'projects' %}
                  {% assign entries = data[1] %}
                  {% include cv/projects.liquid %}
                {% when 'awards' %}
                  {% assign entries = data[1] %}
                  {% include cv/awards.liquid %}
                {% when 'skills' %}
                  {% assign entries = data[1] %}
                  {% include cv/skills.liquid %}
                {% when 'publications' %}
                  {% assign entries = data[1] %}
                  {% include cv/publications.liquid %}
                {% when 'languages' %}
                  {% assign entries = data[1] %}
                  {% include cv/languages.liquid %}
                {% when 'interests' %}
                  {% assign entries = data[1] %}
                  {% include cv/interests.liquid %}
                {% when 'certificates' %}
                  {% assign entries = data[1] %}
                  {% include cv/certificates.liquid %}
                {% when 'references' %}
                  {% assign entries = data[1] %}
                  {% include cv/references.liquid %}
              {% endcase %}
            </div>
          </div>
        {% endfor %}
      {% else %}
        <p>No CV data found. Please configure either RenderCV (cv.yml) or JSONResume (resume.json) data.</p>
      {% endif %}
    </div>
  </article>
</div>

