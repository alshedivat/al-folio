<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>    <!-- Metadata, OpenGraph and Schema.org -->
    
    <!-- Website verification -->
    <meta name="google-site-verification" content="r_l7npAYPpfg7XREZHkXx3kPCug6F1CnQILCoPX4KOU" />

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Rails - debugging with pry | Andy Wenk</title>
    <meta name="author" content="Andy  Wenk" />
    <meta name="description" content="Personal website of Andy Wenk - Hamburg, Germany
" />
    <meta name="keywords" content="andywenk, digitalblast, sumcumo, CTO" />

    <!-- Schema.org -->
    <script type="application/ld+json">
      {
        "author":
        {
          "@type": "Person",
          "name": "Andy  Wenk"
        },
        "url": "https://www.andy-wenk.de/blog/2012/rails-debugging-with-pry/",
        "@type": "WebSite",
        "description": "Personal website of Andy Wenk - Hamburg, Germany
",
        "headline": "Rails - debugging with pry",
        "sameAs": ["https://scholar.google.com/citations?user=dqdo9MgAAAAJ", "https://github.com/andywenk", "https://www.linkedin.com/in/andreas-wenk-88773a239", "https://www.digitalblast.com"],
        "name": "Andy  Wenk",
        "@context": "https://schema.org"
      }
    </script>


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous" />

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light" />

    <!-- Styles -->
    
    <link rel="shortcut icon" href="/assets/img/favicon.ico"/>
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://www.andy-wenk.de/blog/2012/rails-debugging-with-pry/">
    
    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark" />

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="https://www.andy-wenk.de/">Andy Wenk</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">About</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item active">
                <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/activities/">Activities</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/publications/">Publications</a>
              </li>

              <!-- Toogle theme mode -->
              <div class="toggle-container">
                <a id="light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </a>
              </div>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <!-- Content -->
    <div class="container mt-5">
      <!-- _layouts/post.html -->

<div class="post">

  <header class="post-header">
    <h1 class="post-title">Rails - debugging with pry</h1>
    <p class="post-meta">May 26, 2012</p>
    <p class="post-tags">
      <a href="/blog/2012"> <i class="fas fa-calendar fa-sm"></i> 2012 </a>
        ·  
        <a href="/blog/tag/rails">
          <i class="fas fa-hashtag fa-sm"></i> rails</a>  
          <a href="/blog/tag/debugging">
          <i class="fas fa-hashtag fa-sm"></i> debugging</a>  
          <a href="/blog/tag/irb">
          <i class="fas fa-hashtag fa-sm"></i> irb</a>  
          <a href="/blog/tag/pry">
          <i class="fas fa-hashtag fa-sm"></i> pry</a>  
          
        ·  
        <a href="/blog/category/Rails">
          <i class="fas fa-tag fa-sm"></i> Rails</a>  
          

    </p>
  </header>

  <article class="post-content">
    <p>Moin Moin,</p>

<p>debugging is one of the things a developer has to do most. One case is e.g when the customer is reporting a bug. Another one is when we are developing new software or features.
Debugging is different in different languages. If you are coding Java, then it is pretty sure you are using Eclipse. It is offering a pretty good debugger inside the GUI. Developing JavaScript apps is less painless, since there are the great in-browser developer tools for <a href="https://www.google.com/intl/en/chrome/browser/" target="_blank" rel="noopener noreferrer">Google Chrome</a> or <a href="http://www.mozilla.org/en-US/firefox/new/" target="_blank" rel="noopener noreferrer">Mozilla Firefox</a>.</p>

<p>Debugging in <a href="http://rubyonrails.org/" target="_blank" rel="noopener noreferrer">Rails</a> is not a pain in the ass. The <a href="http://rubygems.org/gems/ruby-debug" target="_blank" rel="noopener noreferrer">ruby-debug gem</a> is quite good. You have to start the local server with -u or —debugger. The debugger is stopping the program execution where you set the ‘debugger’ method in your code. Inside the Rails log, there are then all the known debugger commands like ‘n’ for next, ‘c’ for continue and so on, available. In most cases this kind of ‘print_f’ debugging is sufficient. There are some caveats or even shortcomings. Sometimes the scope of the debugger is wrong and you have to stop/start the server to fix this.</p>

<p>Recently I stumbled upon an alternative for irb (the ruby interactive shell). It is called pry and can be found <a href="http://pry.github.com/" target="_blank" rel="noopener noreferrer">here</a>. The tool is super awesome and I strongly recommend that you give it a try. Here is a good <a href="http://railscasts.com/episodes/280-pry-with-rails" target="_blank" rel="noopener noreferrer">RailsCast from Ryan Bates</a>.</p>

<p>The steps you have to do are simple:</p>

<pre><code> gem install pry pry-doc
</code></pre>

<p>In your Gemfile add:</p>

<pre><code> group :development do
   gem 'pry'
   ...
 end
</code></pre>

<p>Don’t forget to run bundle install afterwards.</p>

<p>Now set the following to any place in your code - here is some example code from an AR model:</p>

<pre><code> def printer_with_qraex_product
   printers = {}

   printer = select_printer
   total = printer.length

   printer = select_printer(true)
   printer.each do |p|
     cartridge = Cartridge.select('DISTINCT(qraexid)').where("printer_id=?
       and printer_group=?", p.id, group)[0]
     printers[p.name] = {qraexid: cartridge.qraexid}
   end
   binding.pry
   {:printer =&gt; printers, :total =&gt; total}
end
</code></pre>

<p>'binding.pry' is the same as you would use 'debugger'. It is stopping the execution BUT also opening the pry shell and showing the code around the binding to pry:</p>

<p><img src="http://media.tumblr.com/tumblr_m4ngcjjxHr1qa0m1w.png" alt=""></p>

<p>The cool thing is, that you now can access all the variables and methods in this scope:</p>

<pre><code> [1] pry(#&lt;Printer&gt;)&gt; total
 =&gt; 2
 [2] pry(#&lt;Printer&gt;)&gt; printer
 =&gt; [#&lt;Printer id: 37693, name: "Color InkJet CP 1160"&gt;,
   #&lt;Printer id: 37694, name: "Color InkJet CP 1700"&gt;]
 [3] pry(#&lt;Printer&gt;)&gt;
</code></pre>

<p>You can continue the execution of the program by entering ‘exit-all’</p>

<h4>Conclusion</h4>

<p>pry is an awesome tool - not only for debugging but also (and mainly) for inspecting objects. Give it a try and you will see, that as here discussed, debugging is much more efficient and fun.</p>

  </article>

</div>

    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2022 Andy  Wenk. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme.
Last updated: September 23, 2022.
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js" integrity="sha256-l/1pMF/+J4TThfgARS6KwWrk/egwuVvhRzfLAMQ6Ds4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha256-SyTu6CwrfOhaznYZPoolVw2rxoY7lKYKQvqbtqN93HI=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
  <script src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script src="/assets/js/common.js"></script>

    

    <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-K0TB1250EC"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-K0TB1250EC');
  </script>
  </body>
</html>
