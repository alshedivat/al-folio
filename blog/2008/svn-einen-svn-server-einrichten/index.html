<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>    <!-- Metadata, OpenGraph and Schema.org -->
    
    <!-- Website verification -->
    <meta name="google-site-verification" content="r_l7npAYPpfg7XREZHkXx3kPCug6F1CnQILCoPX4KOU" />

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>svn - einen svn Server einrichten | Andy Wenk</title>
    <meta name="author" content="Andy  Wenk" />
    <meta name="description" content="Personal website of Andy Wenk - Hamburg, Germany
" />
    <meta name="keywords" content="andywenk, digitalblast, sumcumo, CTO" />

    <!-- Schema.org -->
    <script type="application/ld+json">
      {
        "author":
        {
          "@type": "Person",
          "name": "Andy  Wenk"
        },
        "url": "https://www.andy-wenk.de/blog/2008/svn-einen-svn-server-einrichten/",
        "@type": "WebSite",
        "description": "Personal website of Andy Wenk - Hamburg, Germany
",
        "headline": "svn - einen svn Server einrichten",
        "sameAs": ["https://scholar.google.com/citations?user=dqdo9MgAAAAJ", "https://github.com/andywenk", "https://www.linkedin.com/in/andreas-wenk-88773a239", "https://www.digitalblast.com"],
        "name": "Andy  Wenk",
        "@context": "https://schema.org"
      }
    </script>


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous" />

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light" />

    <!-- Styles -->
    
    <link rel="shortcut icon" href="/assets/img/favicon.ico"/>
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://www.andy-wenk.de/blog/2008/svn-einen-svn-server-einrichten/">
    
    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark" />

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="https://www.andy-wenk.de/">Andy Wenk</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">About</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item active">
                <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/activities/">Activities</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/publications/">Publications</a>
              </li>

              <!-- Toogle theme mode -->
              <div class="toggle-container">
                <a id="light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </a>
              </div>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <!-- Content -->
    <div class="container mt-5">
      <!-- _layouts/post.html -->

<div class="post">

  <header class="post-header">
    <h1 class="post-title">svn - einen svn Server einrichten</h1>
    <p class="post-meta">November 18, 2008</p>
    <p class="post-tags">
      <a href="/blog/2008"> <i class="fas fa-calendar fa-sm"></i> 2008 </a>
        ·  
        <a href="/blog/tag/svn">
          <i class="fas fa-hashtag fa-sm"></i> svn</a>  
          <a href="/blog/tag/repository">
          <i class="fas fa-hashtag fa-sm"></i> repository</a>  
          <a href="/blog/tag/dav_svn">
          <i class="fas fa-hashtag fa-sm"></i> dav_svn</a>  
          <a href="/blog/tag/apache2">
          <i class="fas fa-hashtag fa-sm"></i> apache2</a>  
          
        ·  
        <a href="/blog/category/Server">
          <i class="fas fa-tag fa-sm"></i> Server</a>  
          

    </p>
  </header>

  <article class="post-content">
    <p>Moin Moin,</p>

<p>mal wieder was zu svn. Es geht darum wie ich einen svn Server - ich nenn das mal so - mit Apache2 einrichte. Der Witz dabei ist, dass der Apache2 so konfiguriert wird, dass wir sehr einfach per http Schnittstelle auf das Repository zugreifen können. Also Abfahrt.</p>

<h3>1. svn installieren</h3>

<p>Wie immer betrachte ich die Installation unter einem Debian Linux als User root. Die Installation ist denkbar einfach, wobei wir zum einen svn und zum anderen die Erweiterung für den Apache2 installieren müssen:</p>

<pre>
root@server: aptitude install subversion libapache2-svn
</pre>

<h3>2. Modul dav_svn aktivieren</h3>

<p>Jetzt aktivieren wir das Apache2 Modul dav_svn. Dazu wechseln wir in das Modul Verzeichnis des Apache und aktivieren es mit dem Apache Programm a2enmod:</p>

<pre>
root@server: cd /etc/apache2/mods-available/
root@server:/etc/apache2/mods-available# a2enmod dav_svn
</pre>

<h3>3. Das Modul dav_svn konfigurieren</h3>

<p>Nachdem alles installiert und aktiviert ist, geht’s jetzt an die Konfiguration. Dazu bearbeiten wir die Datei dav_svn.conf.</p>

<pre>
root@server: cd /etc/apache2/mods-enabled/
root@server:/etc/apache2/mods-enabled# vi dav_svn.conf
</pre>

<p>Der Inhalt der Datei sieht prinzipiell so aus. Ich lasse alle Kommentar weg und schreibe eigen dazu:</p>

<pre>&lt;Location /svn&gt;
# muss auskommentiert werden, damit das Repository aktiviert wird
DAV svn

# wir wollen mehrere Repositorys verwalten
SVNParentPath /var/lib/svn

# Die Authentifizierung erfolgt über die Datei dav_svn.passwd
AuthType Basic
AuthName "Subversion Repository"
AuthUserFile /etc/apache2/dav_svn.passwd

# Wir wollen über mod_authz_svn die Rechte für den Zugriff auf die Repositorys steuern
AuthzSVNAccessFile /etc/apache2/dav_svn.authz

# Um die Repositorys auschecken zu können, muss ein gültiger User existieren
Require valid-user
&lt;/Location&gt;</pre>

<p>Ich habe in einem früheren Post schon erklärt, wie man mod_authz_svn einrichtet. Den Post <a href="http://blog.netzmeister-st-pauli.de/index.php/2008/09/22/svn-authentifizierung-mit-mod_authz_svn" target="_blank" rel="noopener noreferrer">findest Du hier</a>.</p>

<p>Wenn wir alles erledigt haben starten wir den Webserver neu.</p>

<h3>4. Einen User anlegen</h3>

<p>Einen user legen wir an, indem wir diesen mit dem Program htpasswd in die Datei dav_svn.passwd eintragen. Dazu wechseln wir zuerst ins entsprechende Verzeichnis:</p>

<pre>
root@server: cd /etc/apache2/
&lt;em&gt;wenn die Datei noch nicht existiert&lt;/em&gt;
root@server:/etc/apache2/htpasswd -c dav_svn.passwd
root@server:/etc/apache2# htpasswd dav_svn.passwd [user]
</pre>

<p>-&gt; Dann zweimal Passwort eingeben</p>

<h3>5. Ein Repository erstellen</h3>

<p>So, alles eingestellt. Jetzt erstellen wir ein Repository. Dazu wechseln wir in das Verzeichnis, in welchem die Repository’s liegen sollen und nutzen das Program svnadmin wiederum als User root:</p>

<pre>
root@server: cd /var/lib/svn
root@server:/var/lib/svn# svnadmin create repositroy_neu
</pre>

<p>Damit haben wir ein Repository namens repository_neu erstellt. Aber Achtung. Damit das Repository über das web betrachtet werden kann, müssen wir die Rechte ändern. Ich gehe davon aus, dass der Apache2 User und die Group www-data heisst:</p>

<pre>
root@server:/var/lib/svn# chown -R www-data repository_neu/
</pre>

<p>Testen wir das Ganze und geben wir die URL des Repository’s im Browser ein:</p>

<p><em><a href="http://www.server.de/svn/repository_neu" target="_blank" rel="noopener noreferrer">http://www.server.de/svn/repository_neu</a></em></p>

<p>Wir müssen eine http Authentifizerung machen. Und danach sehen wir so was wie das hier:</p>

<p><img src="http://media.tumblr.com/tumblr_kyf21ql3FB1qa0m1w.png"></p>

<p>Damit haben wir’s auch schon geschafft.</p>

<h3>6. Ein Projekt auschecken</h3>

<p>Hier noch ganz kurz, wie man ein svn Repository auf der Shell auscheckt:</p>

<pre>
user@server: cd /tmp
user@server:/tmp/ svn co htp://www.server.de/svn/repository_neu -username [user]
Anmeldebereich: <a href="http://www.server.de:80" target="_blank" rel="noopener noreferrer">http://www.server.de:80</a> Subversion Repository
Passwort für »[user]«: *********

Ausgecheckt, Revision 0.
user@root:/tmp/
</pre>

<p>Für Hilfe zu svn einfach svn help oder svn help [Befehl] eingeben.</p>

<p>Dann viel Spass</p>

<p>Andreas</p>

  </article>

</div>

    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2022 Andy  Wenk. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme.
Last updated: September 23, 2022.
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js" integrity="sha256-l/1pMF/+J4TThfgARS6KwWrk/egwuVvhRzfLAMQ6Ds4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha256-SyTu6CwrfOhaznYZPoolVw2rxoY7lKYKQvqbtqN93HI=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
  <script src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script src="/assets/js/common.js"></script>

    

    <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-K0TB1250EC"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-K0TB1250EC');
  </script>
  </body>
</html>
